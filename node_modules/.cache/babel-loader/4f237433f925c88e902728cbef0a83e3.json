{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\aough\\\\OneDrive\\\\Bureau\\\\IPSSI\\\\Project-Github-Node\\\\pokeapiExoFront\\\\src\\\\Components\\\\MesPokemons.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport axios from \"axios\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport TypePokemon from \"./TypePokemon\";\nimport Card from 'react-bootstrap/Card';\nimport \"../style/MesPokemons.css\";\nimport Button from 'react-bootstrap/Button';\nimport Form from 'react-bootstrap/Form';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst MesPokemons = () => {\n  _s();\n\n  const [pokeData, setPokeData] = useState([]);\n  const [Chargement, setChargement] = useState(true);\n  const [url, setUrl] = useState(\"http://localhost:8000/api/pokemon\");\n  const [nextUrl, setNextUrl] = useState();\n  const [previousUrl, setPreviousUrl] = useState();\n  useEffect(() => {\n    getAllPokemon();\n  }, [url]);\n\n  const getAllPokemon = async () => {\n    setChargement(true);\n    const res = await axios.get(url);\n    console.log(\"ok get all pokemon\");\n    getPokemon(res.data.data);\n    setChargement(false);\n  };\n\n  const getPokemon = async res => {\n    res.map(async item => {\n      const result = await axios.get(item.url);\n      console.log(result.data);\n      setPokeData(state => {\n        state = [...state, result.data];\n        state.sort((a, b) => a.id > b.id ? 1 : -1);\n        return state;\n      });\n    });\n  };\n\n  const ajout = async e => {\n    e.preventDefault();\n    let res = await axios.get(\"https://pokeapi.co/api/v2/pokemon/\" + e.target[0].value);\n    let pokemonData = res.data;\n    let existingPokedex = JSON.parse(localStorage.getItem('MonPokedex'));\n\n    if (existingPokedex.push(pokemonData)) {\n      alert(\"Good c'est rajouté!\");\n\n      /*#__PURE__*/\n      _jsxDEV(Routes, {\n        children: /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/MonPokedexx\",\n          element: /*#__PURE__*/_jsxDEV(MonPokedex, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 58,\n            columnNumber: 57\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this);\n    }\n\n    localStorage.setItem('MonPokedex', JSON.stringify(existingPokedex));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [Chargement ? /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Chargement\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 26\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container espacement\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: pokeData.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-lg-3 col-sm-6\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(Card, {\n                className: \"decalage\",\n                children: [/*#__PURE__*/_jsxDEV(Card.Img, {\n                  variant: \"top\",\n                  src: item.sprites.front_default\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 85,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(Card.Body, {\n                  children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                    children: item.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 87,\n                    columnNumber: 41\n                  }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      children: [\"n\\xB0\", item.id]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 89,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(TypePokemon, {\n                      types: item.types[0].type.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 90,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      children: item.types[0].type.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 91,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(Form, {\n                      className: \"espacement\",\n                      onSubmit: ajout,\n                      children: /*#__PURE__*/_jsxDEV(Button, {\n                        variant: \"outline-primary\",\n                        type: \"submit\",\n                        value: item.id,\n                        children: \"Ajouter au pok\\xE9dex\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 93,\n                        columnNumber: 45\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 92,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 88,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 84,\n                columnNumber: 33\n              }, this)\n            }, item.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6\",\n          children: previousUrl && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"long\",\n            onClick: () => {\n              setPokeData([]);\n              setUrl(previousUrl);\n            },\n            children: \"Pr\\xE9c\\xE9dent\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 34\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-6\",\n          children: nextUrl && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"long\",\n            onClick: () => {\n              setPokeData([]);\n              setUrl(nextUrl);\n            },\n            children: \"Suivant\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 30\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(MesPokemons, \"geckEby7yPQi9IjWZbbkx+fsX6w=\");\n\n_c = MesPokemons;\nexport default MesPokemons;\n\nvar _c;\n\n$RefreshReg$(_c, \"MesPokemons\");","map":{"version":3,"sources":["C:/Users/aough/OneDrive/Bureau/IPSSI/Project-Github-Node/pokeapiExoFront/src/Components/MesPokemons.js"],"names":["React","axios","useState","useEffect","TypePokemon","Card","Button","Form","MesPokemons","pokeData","setPokeData","Chargement","setChargement","url","setUrl","nextUrl","setNextUrl","previousUrl","setPreviousUrl","getAllPokemon","res","get","console","log","getPokemon","data","map","item","result","state","sort","a","b","id","ajout","e","preventDefault","target","value","pokemonData","existingPokedex","JSON","parse","localStorage","getItem","push","alert","setItem","stringify","sprites","front_default","name","types","type"],"mappings":"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","sourcesContent":["\r\n\r\nimport React from \"react\";\r\nimport axios from \"axios\";\r\nimport { useState } from \"react\";\r\nimport { useEffect } from \"react\";\r\nimport TypePokemon from \"./TypePokemon\";\r\nimport Card from 'react-bootstrap/Card';\r\nimport \"../style/MesPokemons.css\"\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\n\r\nconst MesPokemons=()=>{\r\n    const [pokeData,setPokeData]=useState([]);\r\n    const [Chargement,setChargement]=useState(true);\r\n    const [url,setUrl]=useState(\"http://localhost:8000/api/pokemon\")\r\n    const [nextUrl,setNextUrl]=useState();\r\n    const [previousUrl, setPreviousUrl]= useState()\r\n\r\n    useEffect(()=>{\r\n        getAllPokemon();\r\n    },[url])\r\n\r\n\r\n    const getAllPokemon=async()=>{\r\n        setChargement(true)\r\n        const res=await axios.get(url);\r\n        console.log(\"ok get all pokemon\")\r\n        getPokemon(res.data.data)\r\n        setChargement(false)\r\n    }\r\n\r\n    const getPokemon=async(res)=>{\r\n       res.map(async(item)=>{\r\n          const result=await axios.get(item.url)\r\n          console.log(result.data)\r\n          setPokeData(state=>{\r\n              state=[...state,result.data]\r\n              state.sort((a,b)=>a.id>b.id?1:-1)\r\n              return state;\r\n          })\r\n       })   \r\n    }\r\n\r\n    const ajout = async(e) => {\r\n        e.preventDefault();\r\n            \r\n            let res = await axios.get(\"https://pokeapi.co/api/v2/pokemon/\" + e.target[0].value);\r\n            \r\n            let pokemonData = res.data; \r\n            \r\n            let existingPokedex = JSON.parse(localStorage.getItem('MonPokedex'));\r\n\r\n            if(existingPokedex.push(pokemonData)){\r\n\r\n                alert(\"Good c'est rajouté!\");\r\n                <Routes>\r\n                    <Route path='/MonPokedexx' element={<MonPokedex/>}/>\r\n                </Routes>\r\n                \r\n            }\r\n            \r\n\r\n           \r\n            \r\n            localStorage.setItem('MonPokedex', JSON.stringify(existingPokedex));\r\n\r\n        } \r\n    \r\n    \r\n    \r\n    return (\r\n        <>\r\n        {\r\n            Chargement ? <h1>Chargement</h1> :\r\n            <div className=\"container espacement\">\r\n                <div className=\"row\">\r\n\r\n\r\n            {pokeData.map((item) => {\r\n                    return (     \r\n                        <div className=\"col-lg-3 col-sm-6\">                 \r\n                            <div key={item.id}>\r\n                                <Card className=\"decalage\">\r\n                                    <Card.Img variant=\"top\" src={item.sprites.front_default} />\r\n                                    <Card.Body>\r\n                                        <Card.Title>{item.name}</Card.Title>\r\n                                        <Card.Text>\r\n                                        <p>n°{item.id}</p>\r\n                                        <TypePokemon types={item.types[0].type.name}/>\r\n                                        <p>{item.types[0].type.name}</p>\r\n                                        <Form className=\"espacement\" onSubmit={ajout}>\r\n                                            <Button variant=\"outline-primary\" type=\"submit\" value={item.id}>\r\n                                                Ajouter au pokédex\r\n                                            </Button>\r\n                                        </Form>\r\n                                        </Card.Text>\r\n                                    </Card.Body>\r\n                                </Card>\r\n                                </div> \r\n                            </div>\r\n                    )\r\n                })}\r\n                </div>\r\n                <div className=\"row\">\r\n                <div className=\"col-6\">\r\n                { previousUrl && <button className=\"long\" onClick={()=>{\r\n                            setPokeData([]) \r\n                            setUrl(previousUrl)\r\n                        }}>Précédent</button>}\r\n                        </div>\r\n                    <div className=\"col-6\">\r\n                { nextUrl && <button className=\"long\" onClick={()=>{\r\n                            setPokeData([]) \r\n                            setUrl(nextUrl)\r\n                        }}>Suivant</button>}\r\n                        </div>\r\n                </div>\r\n            </div>\r\n        }\r\n        <div>\r\n                       \r\n\r\n                    </div>\r\n        </>\r\n    )\r\n}\r\nexport default MesPokemons;"]},"metadata":{},"sourceType":"module"}